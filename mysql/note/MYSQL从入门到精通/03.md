## 表的增删改查

#### 建立表（增）

```js
create table if not exists y1(
    yid int unsigned not null auto_increment,
    yname varchar(30) not null,
    primary key(yid)
)engine = myisam auto_increment = 100 default charset utf8;

```

```if not exists```

* 如果不存在再去创建

```unsigned```

* ```int``` 分为无符号 ```unsigned``` 和有符号 ```signed``` 两种类型，默认为 ```signed```

* 二者的区别就是无符号类型能保存 ```2``` 倍于有符号类型的数据

```not null```

* 表示不为空

```auto_increment```

* 自增加，比如 ```id``` 添加数据后自动变为 ```1234..```


```engine```

* ```engine``` 表示存储引擎，一般分为 ```myisam```，```innodb``` 等，```MySQL 5.5``` 起，默认为 ```innodb```，但是我们大部分时候都采用 ```myisam```（若是不涉及事务的话，选用这个速度较快），```innodb``` 一般用于事务（比如票务查询，银行业务转账）

* ```engine``` 中的 ```auto_increment``` 表示编号字段默认从 ```100``` 开始（上例中），即 ```101, 102, 103...```

#### 删除表（删）

同库的操作类似

```js
drop table y1;

drop table if exists y1;

// 删除多个表
drop table y1, y2, y3;
```



#### 修改表的类型及字段名（改）


修改表名（一般用的较少）

```js
rename table y1 to y2;

// <===等价于===>

alter table y2 rename y1;
```


修改表结构

```js
// 先查看一下表结构
desc y1;

// ===>

+-------+------------------+------+-----+---------+----------------+
| Field | Type             | Null | Key | Default | Extra          |
+-------+------------------+------+-----+---------+----------------+
| yid   | int(10) unsigned | NO   | PRI | NULL    | auto_increment |
| yname | varchar(30)      | NO   |     | NULL    |                |
+-------+------------------+------+-----+---------+----------------+

// 修改字段名并重新指定数据类型
alter table y1 change yid userid int;

alter table y1 change yname username varchar(30) not null;


// 修改字段类型
alter table 表名 monify 字段名 字段类型;

// ===>

+----------+-------------+------+-----+---------+-------+
| Field    | Type        | Null | Key | Default | Extra |
+----------+-------------+------+-----+---------+-------+
| userid   | int(11)     | NO   | PRI | 0       |       |
| username | varchar(30) | NO   |     | NULL    |       |
+----------+-------------+------+-----+---------+-------+
```

新增一个字段

```js
// 新增的时候可以指定插入的位置，只需要使用 after 关键字
alter table y1 add usertel varchar(20);

alter table y1 add useraddress varchar(50) after username;

// ===>

+-------------+-------------+------+-----+---------+-------+
| Field       | Type        | Null | Key | Default | Extra |
+-------------+-------------+------+-----+---------+-------+
| userid      | int(11)     | NO   | PRI | 0       |       |
| username    | varchar(30) | NO   |     | NULL    |       |
| useraddress | varchar(50) | YES  |     | NULL    |       |
| usertel     | varchar(20) | YES  |     | NULL    |       |
+-------------+-------------+------+-----+---------+-------+
```

删除一个字段

```js
alter table y1 drop column usertel;

// ===>

+-------------+-------------+------+-----+---------+-------+
| Field       | Type        | Null | Key | Default | Extra |
+-------------+-------------+------+-----+---------+-------+
| userid      | int(11)     | NO   | PRI | 0       |       |
| username    | varchar(30) | NO   |     | NULL    |       |
| useraddress | varchar(50) | YES  |     | NULL    |       |
+-------------+-------------+------+-----+---------+-------+
```



#### 查询表（查）

```js
// 查看表
show tables;

// ===>
+--------------+
| Tables_in_yy |
+--------------+
| stu          |
+--------------+

// 查看表结构
desc stu;

// ===>

+----------+---------------------+------+-----+---------+----------------+
| Field    | Type                | Null | Key | Default | Extra          |
+----------+---------------------+------+-----+---------+----------------+
| id       | int(10) unsigned    | NO   | PRI | NULL    | auto_increment |
| name     | varchar(30)         | NO   |     | NULL    |                |
| age      | tinyint(3) unsigned | NO   |     | NULL    |                |
| birthday | datetime            | YES  |     | NULL    |                |
| address  | varchar(50)         | YES  |     | NULL    |                |
| score    | decimal(4,1)        | YES  |     | NULL    |                |
+----------+---------------------+------+-----+---------+----------------+

```