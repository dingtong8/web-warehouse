#### 查询中的逻辑运算符

比如我们要查询 所有姓李的女生（`and`）

```js
select name, sex from stu where name like '李%' and sex = 0;

// ===>

+------+------+
| name | sex  |
+------+------+
| 李玉 |    0 |
| 李华 |    0 |
+------+------+
```

比如查询 姓李或者是女生（`or`）

```js
select name, sex from stu  where name like '李%' or sex = 0;

// ===>

+------+------+
| name | sex  |
+------+------+
| 李四 |    1 |
| 李玉 |    0 |
| 张美 |    0 |
| 李华 |    0 |
| 王五 |    0 |
+------+------+
```

比如想返回一个组合的信息（`concat`）：

```js
select concat('姓名：', name, ' 性别：', sex, ' QQ：', qq) from stu;

// ===>

+-----------------------------------------------------+
| concat('姓名：', name, ' 性别：', sex, ' QQ：', qq) |
+-----------------------------------------------------+
| 姓名：李四 性别：1 QQ：243513263                    |
| 姓名：李玉 性别：0 QQ：567835673                    |
| 姓名：小飞 性别：1 QQ：112345672                    |
| 姓名：张美 性别：0 QQ：267323235                    |
| 姓名：李华 性别：0 QQ：133242312                    |
| 姓名：王五 性别：0 QQ：234234532                    |
| 姓名：赵六 性别：1 QQ：575675675                    |
+-----------------------------------------------------+

// 调整下返回字段名
select concat('姓名：', name, ' 性别：', sex, ' QQ：', qq) as stuinfo from stu;

// ===>

+----------------------------------+
| stuinfo                          |
+----------------------------------+
| 姓名：李四 性别：1 QQ：243513263 |
| 姓名：李玉 性别：0 QQ：567835673 |
| 姓名：小飞 性别：1 QQ：112345672 |
| 姓名：张美 性别：0 QQ：267323235 |
| 姓名：李华 性别：0 QQ：133242312 |
| 姓名：王五 性别：0 QQ：234234532 |
| 姓名：赵六 性别：1 QQ：575675675 |
+----------------------------------+

// 再调整下性别显示
select concat('姓名：', name, ' 性别：', if(sex, '男', '女'), ' QQ：', qq) as stuinfo from stu;

// ===>

+-----------------------------------+
| stuinfo                           |
+-----------------------------------+
| 姓名：李四 性别：男 QQ：243513263 |
| 姓名：李玉 性别：女 QQ：567835673 |
| 姓名：小飞 性别：男 QQ：112345672 |
| 姓名：张美 性别：女 QQ：267323235 |
| 姓名：李华 性别：女 QQ：133242312 |
| 姓名：王五 性别：女 QQ：234234532 |
| 姓名：赵六 性别：男 QQ：575675675 |
+-----------------------------------+

// 当然也可以添加更多的筛选条件
// where sex = 0; 
// where sex = 0 and name like '%玉%';
// 等等
```



## LIMIT 语句

首先先向表中追加一个字段

```js
// 修改表 stu 追加（add）一个字段（birday）
// 它是一个日期类型，可以选择使用 int(10)
// 也可以使用 date 来专门处理日期类型
alter table stu add birthday date;

// ===> 

+----+------+------+-----------+----------+
| id | name | sex  | qq        | birthday |
+----+------+------+-----------+----------+
|  1 | 李四 |    1 | 243513263 | NULL     |
|  2 | 李玉 |    0 | 567835673 | NULL     |
|  3 | 小飞 |    1 | 112345672 | NULL     |
|  4 | 张美 |    0 | 267323235 | NULL     |
|  5 | 李华 |    0 | 133242312 | NULL     |
|  6 | 王五 |    0 | 234234532 | NULL     |
|  7 | 赵六 |    1 | 575675675 | NULL     |
+----+------+------+-----------+----------+

// 更新日期
// 下面这样是批量处理
update stu set birthday = '1999/2/22';

// 正常情况我们应当指定条件
update stu set birthday = '1999/2/22' where id = 1;
update stu set birthday = '1995/3/14' where id = 2;
// ...
// ...

// ===>  最后如下所示

+----+------+------+-----------+------------+
| id | name | sex  | qq        | birthday   |
+----+------+------+-----------+------------+
|  1 | 李四 |    1 | 243513263 | 1999-02-22 |
|  2 | 李玉 |    0 | 567835673 | 1995-03-14 |
|  3 | 小飞 |    1 | 112345672 | 2000-04-22 |
|  4 | 张美 |    0 | 267323235 | 2002-06-15 |
|  5 | 李华 |    0 | 133242312 | 1988-02-01 |
|  6 | 王五 |    0 | 234234532 | 1999-08-23 |
|  7 | 赵六 |    1 | 575675675 | 1996-11-14 |
+----+------+------+-----------+------------+
```

#### limit

在看 `limit` 之前，我们先来看看 `order by`

* 使用 `order by` 可以指定排序顺序
* 使用 `desc` 使其 **降序** 排列（`54321`）
* 使用 `asc` 使其 **升序** 排列（`12345`）

```js
select * from stu order by id;

// ===>

+----+------+------+-----------+------------+
| id | name | sex  | qq        | birthday   |
+----+------+------+-----------+------------+
|  1 | 李四 |    1 | 243513263 | 1999-02-22 |
|  2 | 李玉 |    0 | 567835673 | 1995-03-14 |
|  3 | 小飞 |    1 | 112345672 | 2000-04-22 |
|  4 | 张美 |    0 | 267323235 | 2002-06-15 |
|  5 | 李华 |    0 | 133242312 | 1988-02-01 |
|  6 | 王五 |    0 | 234234532 | 1999-08-23 |
|  7 | 赵六 |    1 | 575675675 | 1996-11-14 |
+----+------+------+-----------+------------+

select * from stu order by id desc;

// ===>

+----+------+------+-----------+------------+
| id | name | sex  | qq        | birthday   |
+----+------+------+-----------+------------+
|  7 | 赵六 |    1 | 575675675 | 1996-11-14 |
|  6 | 王五 |    0 | 234234532 | 1999-08-23 |
|  5 | 李华 |    0 | 133242312 | 1988-02-01 |
|  4 | 张美 |    0 | 267323235 | 2002-06-15 |
|  3 | 小飞 |    1 | 112345672 | 2000-04-22 |
|  2 | 李玉 |    0 | 567835673 | 1995-03-14 |
|  1 | 李四 |    1 | 243513263 | 1999-02-22 |
+----+------+------+-----------+------------+ 
```

`limit` 一般用来取部分数据，常用于分页等，`limit` 往往是配合 `order by` 来使用，这样能保证得到的结果是我们预期想要的

```js
// 取出 id 最大的两条数据
select * from stu order by id desc limit 2;

// ===>
+----+------+------+-----------+------------+
| id | name | sex  | qq        | birthday   |
+----+------+------+-----------+------------+
|  7 | 赵六 |    1 | 575675675 | 1996-11-14 |
|  6 | 王五 |    0 | 234234532 | 1999-08-23 |
+----+------+------+-----------+------------+
```

查找年龄最大的用户

```js
select name, birthday from stu order by birthday asc limit 1;

// ===>

+------+------------+
| name | birthday   |
+------+------------+
| 李华 | 1988-02-01 |
+------+------------+
```

查找年龄最小的用户

```js
// 同上，只需要将排序方式由 asc -> desc 即可
select name, birthday from stu order by birthday desc limit 1;

// ===>

+------+------------+
| name | birthday   |
+------+------------+
| 张美 | 2002-06-15 |
+------+------------+
```

在使用 `limit` 的时候，如果只指定一个参数，那么只取出一条记录，如果指定了两个参数，那么第一个参数就代表 **起始点**（第几条开始取，默认索引从 0 开始，与数组类似），第二个参数代表 **取几条**（也会包含起始的那条）