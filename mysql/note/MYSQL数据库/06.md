#### 临时表

思考如下问题：

现在如果我们将年龄排名第二与第三的用户调整为年龄一样大小，即如下所示：

```js
update stu set birthday = "1995/3/14" where id = 3;

select * from stu order by birthday;

// ===>

+----+------+------+-----------+------------+
| id | name | sex  | qq        | birthday   |
+----+------+------+-----------+------------+
|  5 | 李华 |    0 | 133242312 | 1988-02-01 |
|  2 | 李玉 |    0 | 567835673 | 1995-03-14 |
|  3 | 小飞 |    1 | 112345672 | 1995-03-14 |
|  7 | 赵六 |    1 | 575675675 | 1996-11-14 |
|  1 | 李四 |    1 | 243513263 | 1999-02-22 |
|  6 | 王五 |    0 | 234234532 | 1999-08-23 |
|  4 | 张美 |    0 | 267323235 | 2002-06-15 |
+----+------+------+-----------+------------+
```

这个时候如果要取出**年龄最大的前两名**的话就会出现问题：

```js
select * from stu order by birthday limit 2;

// ===>

+----+------+------+-----------+------------+
| id | name | sex  | qq        | birthday   |
+----+------+------+-----------+------------+
|  5 | 李华 |    0 | 133242312 | 1988-02-01 |
|  3 | 小飞 |    1 | 112345672 | 1995-03-14 |
+----+------+------+-----------+------------+
```

可以看到，只有两条数据，这显然不是我们想要的，这个时候就可以通过一个子查询产生一张临时表，通过这张临时表来返回我们需要的数据

```js
select * from stu where birthday <= (select birthday from stu order by birthday limit 1, 1);

// ===>

+----+------+------+-----------+------------+
| id | name | sex  | qq        | birthday   |
+----+------+------+-----------+------------+
|  2 | 李玉 |    0 | 567835673 | 1995-03-14 |
|  3 | 小飞 |    1 | 112345672 | 1995-03-14 |
|  5 | 李华 |    0 | 133242312 | 1988-02-01 |
+----+------+------+-----------+------------+
```

#### 过滤重复内容

看下面这个案例，得到所有用户的生日年份

```js
// 因为是 date 类型，所有可以直接使用 year(birthday) 来获取年份
select year(birthday) from stu;

// ===>

+----------------+
| year(birthday) |
+----------------+
|           1999 |
|           1995 |
|           1995 |
|           2002 |
|           1988 |
|           1999 |
|           1996 |
+----------------+
```

我们可以看到，有重复的 ```1995``` 和 ```1999```，这个时候我们就需要过滤掉这些重复的内容，这个时候就可以使用 ```distinct``` 这个关键字：

```js
select distinct year(birthday) form stu;

+----------------+
| year(birthday) |
+----------------+
|           1999 |
|           1995 |
|           2002 |
|           1988 |
|           1996 |
+----------------+
```