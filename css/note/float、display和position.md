`float`、`display` 和 `position`

----


## float

#### 误解

```float``` 的常见用法一般用来横向排版或者多列布局（```bootstrap``` 中的栅格系统也是通过 ```float``` 来实现的），并且在 ```CSS3``` 并未普及前，多列布局的解决方案一般也是通过 ```float``` 来实现的

但是 ```float``` 被设计出来的初衷只是仅仅用于来实现文字环绕图片的效果

#### 坍塌现象

比如在一个 ```div``` 元素中 放置了一个设置了 ```float``` 属性的图片，这样一来会导致 ```div``` 的**高度坍塌**，根本原因在于 设置 ```float``` 的元素会脱离文档流（至于为什么会这样，详细可见 BFC 一节）

另外要提到的一点就是，如果普通的 ```div``` 没有设置宽度，那么它的默认宽度则会充满整个屏幕，但是如果给 ```div``` 设置了 ```float``` 属性行，它的宽度就不再是占据整个屏幕，而是其宽度会自动调整为包裹住里面内容的宽度

此时虽然 ```div``` 体现了包裹性，但是它的 ```display``` 样式是没有变化的，仍然是 ```block```

#### 清楚 float

想要解决上面出现的坍塌问题也很简单，一般常见的有下面几种

* 为父元素添加 ```overflow: hidden```

* 或者父元素也设置为浮动

* 再或者设置 ```clear: both```

## display

```display``` 的属性有很多，这里主要说的是 ```inline```

#### inline

网页的所有元素，除了块就是流，而且流都是包含在块里面的（最外层的 ```body``` 就是一个块）

常用的 ```inline``` 就是文字和图片，它是没有大小和形状的，它的宽度取决于父容器的宽度

针对 ```inline``` 的标签，你设置宽度和高度是无效的，该元素实际的宽度和高度都是 ```auto```，并不是我们设定的值

将 ```inline``` 元素转化为块级元素常见的方式有 ```display: block```，```display: table``` 等等，这里提两种不是很常见的

* 一种是对 ```inline``` 元素设置 ```float```

* 另一种就是对 ```inline``` 元素设置 ```position: absolute/fixed```

#### 关于 IE7 下 不支持给块级元素设置 inline-block 样式

解决方法如下：首先将其变成行内元素，使用具有行内元素的特性，然后触发 haslayout，使其具有块级元素的特性，如此就可以模拟出 inline-block 的效果

```css
div{
    display:inline-block;
    *display: inline;
    zoom: 1;
}
```

## position

```position``` 常用的属性一般有四个 ```static/relative/absolute/fixed```

另外 ```CSS3``` 又提供了三个新的属性，分别为 ```center/page/sticky```，虽然实现的效果很好，但是兼容性不是很好（```IE11``` 暂时都不支持），所以一般很少去使用

#### static 和 fixed

其中 ```static```（静态定位）是默认值，即所有的元素如果不设置其他的 ```position``` 值，它的 ```position``` 值就是 ```static```

```fixed``` 其实和 ```absolute``` 一样，唯一区别在于 ```fixed``` 永远根据浏览器来确定位置，和其他元素没有关系


#### relative

```relative``` 会导致自身位置的相对变化，而不会影响其他元素的位置、大小的变化，这是 ```relative``` 的要点之一

另外，```relative``` 还会产生一个新的定位上下文

```relative``` 元素的定位永远是相对于元素自身位置的，和其他元素没关系，也不会影响其他元素

#### absolute

```absolute``` 元素脱离了文档结构，和 ```relative``` 不同，只要元素会脱离文档结构，它就会产生破坏性，导致父元素坍塌

同时 ```absolute``` 元素也具有 包裹性 和 跟随性，而且 ```absolute``` 元素会悬浮在页面上方，会遮挡住下方的页面内容，也会使得元素已有的 ```float``` 失效（不过 ```absolute``` 和 ```float``` 一起使用的场景不太常见）

一般通过给 ```absolute``` 元素设置 ```top```、```left``` 值来控制其所在的位置，但是它所依据定位的基准点与 ```fixed``` 不同

它的纵向和横向的偏移量主要依靠：浏览器递归查找该元素的所有父元素，如果找到一个设置了 ```position: relative/absolute/fixed``` 的元素，就以该元素为基准定位，如果没找到，就以浏览器边界定位
