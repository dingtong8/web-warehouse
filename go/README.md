```go
// 定义了包名，必须在源文件中非注释的第一行指明这个文件属于哪个包
// package main 表示一个可独立执行的程序，每个 Go 应用程序都包含一个名为 main 的包
package main

// 告诉 Go 编译器这个程序需要使用 fmt 包（的函数，或其他元素），fmt 包实现了格式化 IO（输入/输出）的函数
import "fmt"

// main 函数是每一个可执行程序所必须包含的，一般来说都是在启动后第一个执行的函数，需要注意，{ 不能单独放在一行
func main() {
	// 当标识符（包括常量、变量、类型、函数名、结构字段等等）以一个大写字母开头，那么使用这种形式的标识符的对象就可以被外部包的代码所使用（需要先导入这个包），这被称为导出
	// 标识符如果以小写字母开头，则对包外是不可见的，但是他们在整个包的内部是可见并且可用的
	fmt.Println("Hello, World!")
}
```


## 标识符

`_` 本身就是一个特殊的标识符，被称为空白标识符，它可以像其他标识符那样用于变量的声明或赋值（任何类型都可以赋值给它），但任何赋给这个标识符的值都将被抛弃

因此这些值不能在后续的代码中使用，也不可以使用这个标识符作为变量对其它变量进行赋值或运算

在编码过程中，你可能会遇到没有名称的变量、类型或方法，虽然这不是必须的，但有时候这样做可以极大地增强代码的灵活性，这些变量被统称为匿名变量


## 包的概念、导入与可见性

`package main` 表示一个可独立执行的程序，每个 `Go` 应用程序都包含一个名为 `main` 的包

另外要注意的是，所有的包名都应该使用小写字母


#### 标准库

在 `Go` 的安装文件里包含了一些可以直接使用的包，即标准库，其中包含了大量的包（如：`fmt` 和 `os`）

如果对一个包进行更改或重新编译，所有引用了这个包的客户端程序都必须全部重新编译

每一段代码只会被编译一次

如果包名不是以 `.` 或 `/` 开头，如 `"fmt"` 或者 `"container/list"`，则 `Go` 会在全局文件进行查找

如果包名以 `./` 开头，则 `Go` 会在相对目录中查找；如果包名以 `/` 开头（在 `Windows` 下也可以这样使用），则会在系统的绝对路径中查找

导入包即等同于包含了这个包的所有的代码对象



#### 可见性规则

当标识符（包括常量、变量、类型、函数名、结构字段等等）以一个大写字母开头，如 `Group1`，那么使用这种形式的标识符的对象就可以被外部包的代码所使用（客户端程序需要先导入这个包），这被称为导出

对包名进行重新设置，`import fm "fmt"`

如果你导入了一个包却没有使用它，则会在构建程序时引发错误（没有不必要的代码）



## 函数

`main` 函数是每一个可执行程序所必须包含的，一般来说都是在启动后第一个执行的函数（如果有 `init()` 函数则会先执行该函数）

如果你的 `main` 包的源代码没有包含 `main` 函数，则会引发构建错误

在程序开始执行并完成初始化后，第一个调用（程序的入口点）的函数是 `main.main()`，该函数一旦返回就表示程序已成功执行并立即退出

左大括号 `{` 必须与方法的声明放在同一行，右大括号 `}` 需要被放在紧接着函数体的下一行，如果你的函数非常简短，你也可以将它们放在同一行

程序正常退出的代码为 `0` 即 `Program exited with code 0`，如果程序因为异常而被终止，则会返回非零值（比如 `1` 可以用来测试是否成功执行一个程序）



## 语言变量

如果没有初始化，则变量默认为零值

* 数值类型（包括 `complex64/128`）为 `0`

* 布尔类型为 `false`

* 字符串为 `""`（空字符串）

* 以下几种类型为 [nil](https://www.jianshu.com/p/dd80f6be7969)：

  * `var a *int`

  * `var a []int`

  * `var a map[string] int`

  * `var a chan int`

  * `var a func(string) int`

  * `var a error` // error 是接口

```go
package main

var x, y int

// 因式分解关键字的写法一般用于声明全局变量
var (
	a int
	b bool
)

var c, d int = 1, 2
var e, f = 123, "hello"

func main() {
	g, h := 123, "world"
	println(x, y, a, b, c, d, e, f, g, h)
}

// 0 0 0 false 1 2 123 hello 123 world
```


## 值类型和引用类型

所有像 `int`、`float`、`bool` 和 `string` 这些基本类型都属于值类型，使用这些类型的变量直接指向存在内存中的值（值类型的变量的值存储在栈中）

当使用等号 `=` 将一个变量的值赋值给另一个变量时，如 `j = i`，实际上是在内存中将 `i` 的值进行了拷贝

如果是引用类型的值，当两个变量赋值时，只有引用（地址）被赋值

如果其中一个的值改变了，那么这个值的所有引用都会指向被修改后的内容


#### 使用 := 赋值操作符

这是使用变量的首选形式，但是它只能被用在函数体内，而不可以用于全局变量的声明与赋值

如果在相同的代码块中，我们不可以再次对于相同名称的变量使用初始化声明

如果你在定义变量之前使用它，会得到编译错误，如果你声明了一个局部变量却没有在相同的代码块中使用它，同样会得到编译错误（但是需要注意的是，全局变量是允许声明但不使用的）

如果你想要交换两个变量的值，则可以简单地使用 `a, b = b, a`，前提是两个变量的类型必须是相同

空白标识符 `_` 也被用于抛弃值，如值 `5` 在 `_, b = 5, 7` 中被抛弃

`_` 实际上是一个只写变量，你不能得到它的值，这样做是因为 `Go` 语言中你必须使用所有被声明的变量，但有时你并不需要使用从一个函数得到的所有返回值，如下

```go
package main

import "fmt"

func main() {
	// 只获取函数返回值的后两个
	_, nums, strs := numbers()
	fmt.Println(nums, strs)  // 2 str
}

func numbers() (int, int, string) {
	a, b, c := 1, 2, "str"
	return a, b, c
}

```



## 语言常量

常量是一个简单值的标识符，在程序运行时，不会被修改的量，使用 `const` 来进行定义

常量中的数据类型只可以是布尔型、数字型（整数型、浮点型和复数）和字符串型

常量可以用 `len()`，`cap()`，`unsafe.Sizeof()` 函数计算表达式的值

常量表达式中，函数必须是内置函数，否则编译不过

```go
package main

import "unsafe"

const (
	a = "abc"
	b = len(a)
	c = unsafe.Sizeof(a)
)

func main() {
	// 字符串类型在 go 里是个结构，包含指向底层数组的指针和长度，这两部分每部分都是 8 个字节
	// 所以字符串类型大小为 16 个字节
	println(a, b, c) // abc 3 16
}
```

在定义常量数组的时候，如果不提供初始值，则表示将使用上行的表达式

```go
package main

import "fmt"

const (
	a = 1
	b
	c
	d
)

func main() {
	fmt.Println(a)  // 1

	// b c d 没有进行初始化，所以将会使用 a 的值
	fmt.Println(b)  // 1
	fmt.Println(c)  // 1
	fmt.Println(d)  // 1
}
```





## iota

`iota`，特殊常量，可以认为是一个可以被编译器修改的常量

`iota` 在 `const` 关键字出现时将被重置为 `0`（`const` 内部的第一行之前），`const` 中每新增一行常量声明将使 `iota` 计数一次（`iota` 可理解为 `const` 语句块中的行索引）

第一个 `iota` 等于 `0`，每当 `iota` 在新的一行被使用时，它的值都会自动加 `1`

```go
package main

import "fmt"

func main() {
	const (
		a = iota // 0
		b        // 1
		c        // 2
		d = "ha" // ha（独立的值，但是 iota += 1）
		e        // ha（没有定义，使用上一行的值，但是 iota += 1）
		f = 100  // 100（iota += 1）
		g        // 100（iota += 1）
		h = iota // 7，恢复 iota 计数
		i        // 8
	)

	fmt.Println(a, b, c, d, e, f, g, h, i)
}
```