## line-height

```line-height```，一般也称为行高，指的是相邻文本行基线间的距离，至于什么是基线，可以参考下图

![IFC](http://upload-images.jianshu.io/upload_images/1726248-ca8bc83d72d02759.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)

从上到下四条线分别是顶线、中线、基线、底线，那么行高是指上下文本行的基线间的垂直距离，即如上图所示中的两条红线间垂直距离（实际在数值上，行高也等于其它相同颜色间的距离）

行高 ```line-height``` 实际上只影响行内元素和其他行内内容，而不会直接影响块级元素，也可以为一个块级元素设置 ```line-height```，但这个值只是应用到块级元素的内联内容时才会有影响，在块级元素上声明 ```line-height``` 会为该块级元素的内容设置一个最小行框高度

## 常用术语

如下图所示：

![line-height](http://images2015.cnblogs.com/blog/740839/201602/740839-20160219175645722-1098817036.jpg)

#### 内容区

对于行内非替换元素或匿名文本某一部分，```font-size``` 和 ```font-family``` 确定了内容区的高度，在宋体情况下，如果一个行内元素的 ```font-size``` 为 ```15px```，则内容区的高度为 ```15px```，而在其他字体情况下，内容区的高度并不等于字体大小

![line-height](http://images2015.cnblogs.com/blog/740839/201602/740839-20160219151914238-1621336937.jpg)


#### 行内框

内容区加上行间距等于行内框，如果一个行内非替换元素的 ```font-size``` 为 ```15px```，```line-height``` 为 ```21px```，则相差 ```6px```

用户代理将这 ```6``` 像素一分为二，将其一半分别应用到内容区的顶部和底部，这就得到了行内框

![line-height](http://images2015.cnblogs.com/blog/740839/201602/740839-20160219152043831-1132174404.jpg)

当 ```line-height``` 小于 ```font-size``` 时，行内框实际上小于内容区

![line-height](http://images2015.cnblogs.com/blog/740839/201602/740839-20160219153607784-951513878.jpg)



#### 行框

行框定义为行中最高行内框的顶端到最低行内框底端之间的距离，而且各行框的顶端挨着上一行行框的底端

![line-height](http://images2015.cnblogs.com/blog/740839/201602/740839-20160219153943722-241079730.jpg)



#### 框属性

* 内边距、外边距和边框不影响行框的高度，即不影响行高

* 行内元素的边框边界由 ```font-size``` 而不是 ```line-height``` 控制

* 外边距不会应用到行内非替换元素的顶端和底端

* ```margin-left```、```padding-left```、```border-left``` 应用到元素的开始处，而 ```margin-right```、```padding-right```、```border-right``` 应用到元素的结尾处


#### 替换元素

行内替换元素需要使用 ```line-height``` 值，从而在垂直对齐时能正确地定位元素，因为 ```vertical-align``` 的百分数值是相对于元素的 ```line-height``` 来计算的，对于垂直对齐来说，图像本身的高度无关紧要，关键是 ```line-height``` 的值

默认地，行内替换元素位于基线上，如果向替换元素增加下内边距、外边距或边框，内容区会上移

替换元素的基线是正常流中最后一个行框的基线，除非该替换元素内容为空或者本身的 ```overflow``` 属性值不是 ```visible```，这种情况下基线是 ```margin``` 底边缘


## 150% 与 1.5 的区别

主要区别如下：

* 父元素设置 ```line-height: 1.5``` 会直接继承给子元素，子元素根据自己的 ```font-size``` 再去计算子元素自己的 ```line-height```（**实际行高 = 1.5 * 子元素的 font-size**）

* 父元素设置 ```line-height: 150%``` 是计算好了 ```line-height``` 值，然后把这个计算值给子元素继承，子元素继承拿到的就是最终的值了（此时子元素设置 font-size 对其 ```line-height``` 是无影响的）

## ```line-height``` 与图片的表现

```inline``` 水平元素 ```vertical-align``` 默认**基线**对齐

比如图片和文字在一排排列，这个时候如果字体的 ```line-height``` 过大，而图片又是根据文字的基线来排列的，这个时候图片底部便会出现间距

#### 消除图片底部间距

一种就是将图片块状化，这时就无基线对齐，因为 ```vertical-align``` 属性只对**内联**，**内联块状**元素有效

另一种就是使用 ```vertical-align：bottom``` 来将图片的底线对齐，或者减小行高（这时基线的位置会上移）

