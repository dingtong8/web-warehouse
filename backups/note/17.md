## 选择器的优先级

之前提到过，最后申明的样式会覆盖掉前面的样式，例如下面这两种，即相同选择器在层叠时，后加载的覆盖前加载的

```css
<div style='color:red;color:blue;'></div>

p {
  color: red;
  color: blue;
}
```

这里就涉及到了一个选择器优先级的概念

#### 特指度（I-C-E）

特指度表示一个 `css` 选择器表达式的重要程度，通常称为 `'I-C-E'` 计算公式，其中的 `I` 对应着 `id`，`C` 对应着 `class`，`E` 对应着 `element`

在针对一个 `css` 选择器表达式的时候，遇到一个 `id` 就往特指度数值中加 `100`，遇到一个 `class` 就往特指度数值中加 `10`，遇到一个 `element` 就往特指度数值中加 `1`

下面是几个简单的例子：

```css
div        // 1

div#box    // 101

div p#box  // 102
```

优先级如下

* `!important` 优先级是最高的，而 `*` 选择器最低，排除这两点以外：

  * 最高的优先级： 直接在标签中的设置样式，例如 `<div style='color:red;'></div>`

  * 次优先级： `id` 选择器，例如 `#box { ... }`

* 其次的是类选择器，例如 `.box { ... }`

* 最后的就是标签选择器，例如 `div { ... }`


简单总结的话，三句话：

* `id` 选择器高于 `class` 选择器

* 不同选择器的特指度比较时，不区分加载的顺序（而相同选择器在层叠时，后加载的覆盖前加载的）

* 设置的样式高于继承的样式，不用考虑特指度



----



## 样式来源与层叠规则

`css` 即所谓的层叠样式表，就是浏览器对多个样式来源进行叠加，最终确定结果的过程


#### 样式来源

之所有有层叠的概念，是因为有多个样式来源，具体为下面五种：

* `<s style=''>` 属性样式

* `<style>` 内部样式

* `<link>` 引用样式

* 浏览器用户自定义样式

* 浏览器默认样式

上面三个可以利用程序来控制（比如 `css` 文件，行内样式等，就不所说了），后面两个则是浏览器的行为



## 浏览器默认样式

浏览器自带一个默认的样式，如果 `html` 中没有为标签设置样式，则浏览器会按照自己的样式来显示，但是浏览器默认样式的级别是最低的，一旦有其他地方设置了标签样式，浏览器默认样式就会被冲掉

不过各个浏览器的默认样式有些地方不一样，所以我们在编写 `css` 的时候都会为了统一而指定相应的样式（例如 `* {margin: 0; padding: 0}`）

浏览器用户自定义样式，指的一些浏览器自带功能，比如字体的放大缩小，用户在这里设置了字体和字号以后，它们会覆盖掉浏览器默认的样式


## 层叠的规则

由于样式的来源不同，浏览器在加载样式时，需要计算出最终的样式值，这里的规则就是：浏览器会让后面的样式覆盖前面的样式（行内的话同样适用）

但是有一个特殊的情况：`!important`，它可以忽略掉上面的规则
